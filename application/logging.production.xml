<configuration xmlns="http://logging.apache.org/log4php/">
   <appender name="RollingFile" class="LoggerAppenderRollingFile">
        <param name="file" value="error.log" />
        <param name="append" value="true" />
        <param name="maxFileSize" value="10MB" />
        <param name="maxBackupIndex" value="10" />

        <layout class="LoggerLayoutPattern">
            <param name="conversionPattern" value="%date [%t] %-5level %logger %ndc - %message%newline%ex" />
        </layout>

       <filter class="LoggerFilterLevelRange">
           <param name="levelMin" value="trace" />
       </filter>
    </appender>
    <appender name="Splunk" class="LoggerAppenderSocket">
        <param name="remoteHost" value="udp://ec2-184-169-215-207.us-west-1.compute.amazonaws.com" />
        <param name="port" value="8123" />

        <layout class="LoggerLayoutPattern">
            <param name="conversionPattern" value="%date [%t] %-5level %logger %ndc - %message%newline%ex" />
        </layout>

        <filter class="LoggerFilterLevelRange">
            <param name="levelMin" value="trace" />
        </filter>
    </appender>

    <root>
        <level value="ALL" />
        <appender_ref ref="RollingFile" />
        <appender_ref ref="Splunk" />
    </root>
</configuration>